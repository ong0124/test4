import{_ as k}from"./NLwD3dW4.js";import P from"./BoSwB06y.js";import{_ as T}from"./CMBaza02.js";import{e as B,u as N,f as D,g as j,h as l,i as I,j as K,o as m,c as h,a as t,b as i,t as e,k as a,l as V,w as Y,m as C,d as L}from"./DfY4Dsmv.js";import{d as M}from"./D8ZMcQSb.js";const O={class:"h-screen bg-gray-200"},S={class:"h-1/3 bg-gradient-to-b from-green-400"},E={class:"flex items-center py-4"},q={class:"absolute left-1/2 transform -translate-x-1/2 text-base font-bold capitalize text-white"},z={class:"mx-3 pt-4 pb-8 rounded-lg bg-white"},A={class:"px-4"},G={class:"px-2"},R={class:"border-l-4 border-orange-400 pl-2"},F={class:"my-2"},H={class:"flex justify-between"},J={class:"flex"},Q={key:0},U={class:"px-2"},W={class:"border-l-4 border-orange-400 pl-2"},X={class:"my-2"},Z={class:"flex justify-between"},tt={class:"flex"},et={class:"px-2"},ot={class:"flex py-2"},nt={class:"border-l-4 border-orange-400 pl-2 flex-1"},st={href:"#",class:"text-sm text-gray-600 ml-1"},at={class:"flex"},it={class:"flex-1"},rt={class:"flex"},lt={class:"flex-1"},_t={class:"text-xs p-6 text-gray-700"},ct={class:"border-t bg-white fixed inset-x-0 bottom-6"},dt={class:"py-6 mx-6 flex"},ut={class:"flex flex-1"},pt={class:"text-red-500"},xt=B({__name:"[id]",setup(mt){const f=N(),c=D(),{t:r}=j(),g=c.params.id,d=o=>o?M(o).format("YYYY-MM-DD"):"N/A",_=l(()=>c.query.isSwapped==="true"),s=I({trip_type:"",user_id:"",adult_num:"",child_num:"",contact_phone:"",totalprice:"",contact_name:"",departure_loc:"",destination_loc:"",return_departure:"",return_destination:"",arrivalpoint_date:"",arrivalpoint_time:"",flight_num:"",ferry_time:"",flight_time:"",shuttle_date:"",shuttle_time:"",return_shuttle_date:"",return_shuttle_time:""}),y=l(()=>r(s.departure_loc||"defaultKey")),v=l(()=>r(s.destination_loc||"defaultKey")),b=l(()=>r(s.return_departure||"defaultKey")),x=l(()=>r(s.return_destination||"defaultKey"));return K(async()=>{try{const n=(await $fetch(`/api/confirmationPage/${g}`)).data;Object.assign(s,{trip_type:n.trip_type,user_id:n.user_id,adult_num:n.adult_num,child_num:n.child_num,contact_phone:n.contact_phone,totalprice:n.totalprice,contact_name:n.contact_name,departure_loc:n.departure_loc,destination_loc:n.destination_loc,return_departure:n.return_departure,return_destination:n.return_destination,arrivalpoint_date:n.arrivalpoint_date,arrivalpoint_time:n.arrivalpoint_time,flight_num:n.flight_num,ferry_time:n.ferry_time,flight_time:n.flight_time,shuttle_date:n.shuttle_date,shuttle_time:n.shuttle_time,return_shuttle_date:n.return_shuttle_date,return_shuttle_time:n.return_shuttle_time}),console.log("form:",s)}catch(o){console.error("Error fetching booking:",o),alert("Get blog detail error")}}),(o,n)=>{const $=k,u=P,p=T,w=L;return m(),h("div",O,[t("div",S,[t("header",E,[i($),t("h1",q,e(o.$t("confirmationPage.title")),1)]),t("div",z,[t("div",A,[t("div",G,[t("p",R,e(a(r)("confirmationPage.tripInfo")),1),t("p",F,e(d(a(s).shuttle_date))+" "+e(a(s).shuttle_time),1),t("div",H,[t("div",J,[t("p",null,e(y.value),1),i(u,{name:"material-symbols-arrow-right-alt",class:"mx-2 w-6 h-6"}),t("p",null,e(v.value),1)]),t("div",null,[t("p",null,e(_.value?o.$t("Booking.ferryTime"):o.$t("Booking.flightTime"))+" : "+e(_.value?a(s).ferry_time:a(s).flight_time),1)])])]),i(p),a(s).trip_type==="roundTrip"?(m(),h("div",Q,[t("div",U,[t("p",W,e(o.$t("confirmationPage.returnTripInfo")),1),t("p",X,e(d(a(s).return_shuttle_date))+" "+e(a(s).return_shuttle_time),1),t("div",Z,[t("div",tt,[t("p",null,e(b.value),1),i(u,{name:"material-symbols-arrow-right-alt",class:"mx-2 w-6 h-6"}),t("p",null,e(x.value),1)]),t("div",null,[t("p",null,e(_.value?o.$t("Booking.flightTime"):o.$t("Booking.ferryTime"))+" : "+e(_.value?a(s).flight_time:a(s).ferry_time),1)])])]),i(p)])):V("",!0),t("div",et,[t("p",null,e(a(s).contact_phone),1),t("p",null,e(a(s).contact_name),1),t("div",ot,[t("p",nt,e(o.$t("confirmationPage.OrderTotal")),1),t("a",st,e(o.$t("confirmationPage.refundPolicy")),1)]),t("div",at,[t("p",it,e(o.$t("confirmationPage.adultTicket"))+" "+e(a(s).adult_num),1),t("p",null,"NT$   "+e(a(s).totalprice),1)]),t("div",rt,[t("p",lt,e(o.$t("confirmationPage.infantTicket"))+" "+e(a(s).child_num),1),n[0]||(n[0]=t("p",null,"NT$  0.00",-1))])])])]),t("div",_t,[t("p",null,e(o.$t("reminder.notice")),1),t("p",null,e(o.$t("reminder.tips1")),1),t("p",null,e(o.$t("reminder.tips2")),1),t("p",null,e(o.$t("reminder.tips3")),1),t("p",null,e(o.$t("reminder.tips4")),1),t("p",null,e(o.$t("reminder.tips5")),1)]),t("footer",ct,[t("div",dt,[t("div",ut,[t("p",null,e(o.$t("confirmationPage.total"))+"    ",1),t("p",pt,"NT$  "+e(a(s).totalprice),1)]),i(w,{to:a(f)("/payment"),class:"bg-red-500 text-white rounded px-2 py-1"},{default:Y(()=>[C(e(o.$t("confirmationPage.submitOrder")),1)]),_:1},8,["to"])])])])])}}});export{xt as default};
