import{_ as j}from"./NLwD3dW4.js";import N from"./BoSwB06y.js";import{e as D,g as V,f as X,n as Y,h as f,j as C,o as n,c,a as t,b as i,t as s,F as u,r as p,k as l,w as m,m as v,l as x,d as g}from"./DfY4Dsmv.js";import{d as M}from"./D8ZMcQSb.js";const R={class:"py-4 border-b bg-green-400 flex items-center"},S={class:"absolute left-1/2 transform -translate-x-1/2 text-xl font-bold capitalize"},E={class:"pb-12"},F={class:"pl-2 pt-4"},I={class:"flex p-4 bg-white rounded-lg"},L={class:"flex text-normal pl-2 flex-1"},z={class:"flex flex-1"},A={class:"flex flex-col"},G={class:"flex border-b-2 border-dashed border-green-200 mb-2"},O={class:"text-sm"},P={class:"text-sm"},q={class:"flex flex-col"},H={class:"text-gray-500"},J={class:"flex justify-end"},K={class:"flex"},Q={class:"pl-2"},U={class:"flex justify-end"},W={class:"text-red-500"},Z={class:"flex justify-end pt-4 px-2 underline text-blue-500 text-sm"},tt={key:0},st={class:"flex p-4 bg-lime-50 rounded-lg"},et={class:"flex text-normal pl-2 flex-1"},ot={class:"flex flex-1"},lt={class:"flex flex-col"},at={class:"border-l-4 border-orange-300"},nt={class:"font-bold pl-2"},ct={class:"flex mb-2"},it={class:"flex flex-col"},dt={class:"text-gray-500"},rt={class:"flex justify-end"},_t={class:"flex"},ut={class:"pl-2"},ht={class:"pl-2 pb-4"},ft={class:"flex p-4 bg-white rounded-lg"},pt={class:"flex text-normal pl-2 flex-1"},mt={class:"flex flex-1"},vt={class:"flex flex-col"},xt={class:"flex border-b-2 border-dashed border-gray-400 mb-2"},gt={class:"text-sm"},bt={class:"text-sm"},yt={class:"flex flex-col"},kt={class:"text-gray-500"},Bt={class:"flex justify-end"},$t={class:"flex"},Tt={class:"pl-2"},wt={class:"flex justify-end"},jt={class:"text-gray-400"},Nt={class:"flex justify-end pt-4 underline text-yellow-500 text-sm"},Dt={key:0},Vt={class:"flex p-4 bg-sky-50 rounded-lg text-gray-400"},Xt={class:"flex text-normal pl-2 flex-1"},Yt={class:"flex flex-1"},Ct={class:"flex flex-col"},Mt={class:"border-l-4 border-orange-300"},Rt={class:"font-bold pl-2"},St={class:"flex mb-2"},Et={class:"flex flex-col"},Ft={class:"text-gray-500"},It={class:"flex justify-end"},Lt={class:"flex"},zt={class:"pl-2"},Jt=D({__name:"[id]",setup(At){const{t:a}=V(),b=X().params.id,d=Y([]),y=async()=>{try{const e=await $fetch(`/api/myTrip/${b}`);d.value=e.data,console.log("最終的 data.value:",d.value)}catch(e){console.error("Error fetching booking:",e),alert("Get blog detail error")}},k=f(()=>d.value.filter(e=>e.status==="notTraveled")),B=f(()=>d.value.filter(e=>e.status==="complete")),r=e=>e?M(e).format("YYYY-MM-DD"):"N/A";return C(y),(e,h)=>{const $=j,_=N,T=g,w=g;return n(),c(u,null,[t("header",R,[t("div",null,[i($)]),t("h1",S,s(e.$t("footer.myTrip")),1)]),t("div",E,[t("div",F,[(n(!0),c(u,null,p(l(k),o=>(n(),c("div",{key:o.id,class:"mb-4"},[t("div",I,[t("div",L,[t("div",z,[t("div",A,[t("div",G,[t("p",null,s(l(a)(o.departure_loc)),1),i(_,{name:"material-symbols-arrow-right-alt",class:"mx-2 w-6 h-6"}),t("p",null,s(l(a)(o.destination_loc)),1)]),t("p",O,s(e.$t("Booking.adultTicket"))+" X "+s(o.adult_num),1),t("p",P,s(e.$t("Booking.childTicket"))+" X "+s(o.child_num),1)])]),t("div",q,[t("div",H,[t("p",J,s(e.$t("Booking.shuttleBusTime")),1),t("div",K,[t("p",null,s(r(o.shuttle_date)),1),t("p",Q,s(o.shuttle_time),1)])]),t("div",U,[t("p",W,s(e.$t("bookingStatus.notTraveled")),1)]),t("div",Z,[i(T,{to:"/reschedulePage/details/"+o.id},{default:m(()=>[v(s(e.$t("forReschedule"))+"/"+s(e.$t("cancelOrder")),1)]),_:2},1032,["to"])])])])]),o.trip_type==="roundTrip"?(n(),c("div",tt,[t("div",st,[t("div",et,[t("div",ot,[t("div",lt,[t("div",at,[t("p",nt,s(e.$t("Booking.return")),1)]),t("div",ct,[t("p",null,s(l(a)(o.return_departure)),1),i(_,{name:"material-symbols-arrow-right-alt",class:"mx-2 w-6 h-6"}),t("p",null,s(l(a)(o.return_destination)),1)])])]),t("div",it,[t("div",dt,[t("p",rt,s(e.$t("Booking.shuttleBusTime")),1),t("div",_t,[t("p",null,s(r(o.return_shuttle_date)),1),t("p",ut,s(o.return_shuttle_time),1)])])])])])])):x("",!0)]))),128))]),t("div",ht,[(n(!0),c(u,null,p(l(B),o=>(n(),c("div",{key:o.id,class:"mb-4 text-gray-500"},[t("div",ft,[t("div",pt,[t("div",mt,[t("div",vt,[t("div",xt,[t("p",null,s(l(a)(o.departure_loc)),1),i(_,{name:"material-symbols-arrow-right-alt",class:"mx-2 w-6 h-6"}),t("p",null,s(l(a)(o.destination_loc)),1)]),t("p",gt,s(e.$t("Booking.adultTicket"))+" X "+s(o.adult_num),1),t("p",bt,s(e.$t("Booking.childTicket"))+" X "+s(o.child_num),1)])]),t("div",yt,[t("div",kt,[t("p",Bt,s(e.$t("Booking.shuttleBusTime")),1),t("div",$t,[t("p",null,s(r(o.shuttle_date)),1),t("p",Tt,s(o.shuttle_time),1)])]),t("div",wt,[t("p",jt,s(e.$t("bookingStatus.complete")),1)]),t("div",Nt,[i(w,{to:"/refund/"+o.id},{default:m(()=>[v(s(e.$t("applyRefund")),1)]),_:2},1032,["to"])])])])]),o.trip_type==="roundTrip"?(n(),c("div",Dt,[t("div",Vt,[t("div",Xt,[t("div",Yt,[t("div",Ct,[t("div",Mt,[t("p",Rt,s(e.$t("Booking.return")),1)]),t("div",St,[t("p",null,s(l(a)(o.return_departure)),1),i(_,{name:"material-symbols-arrow-right-alt",class:"mx-2 w-6 h-6"}),t("p",null,s(l(a)(o.return_destination)),1)])])]),t("div",Et,[t("div",Ft,[t("p",It,s(e.$t("Booking.shuttleBusTime")),1),t("div",Lt,[t("p",null,s(r(o.return_shuttle_date)),1),t("p",zt,s(o.return_shuttle_time),1)])])])])])])):x("",!0)]))),128))])]),h[0]||(h[0]=t("div",null,null,-1))],64)}}});export{Jt as default};
